<style>
  mat-form-field {
    display: block;
    width: 50%;
  }
</style>
<section>
  <div>
    <mat-card>
      <mat-card-title>Price service controls</mat-card-title>
      <button type="button" (click)="sendRequest()" mat-raised-button color="accent">
        Send request to database</button>
      <br />
      <mat-form-field appearance="outline">
        <input matInput id="serviceUrl" [(ngModel)]="serviceUrl" />
      </mat-form-field>
    </mat-card>
  </div>
</section>
<br />
<section>
  <div>
    <mat-form-field appearance="outline">
      <mat-label>Choose the breaker type</mat-label>
      <mat-select
        #mySelect
        (selectionChange)="selectInput(mySelect.value)"
        [(value)]="selected"
      >
        <mat-option value="consecutive">ConsecutiveBreaker</mat-option>
        <mat-option value="sample">SampleBreaker</mat-option>
      </mat-select>
    </mat-form-field>
    <br />
    <mat-form-field appearance="outline">
      <mat-label>Timeout duration</mat-label>
      <input matInput id="timeoutDuration" [(ngModel)]="timeoutDuration" />
      <span matSuffix>ms</span>
    </mat-form-field>
  </div>
  <div class="sample" *ngIf="!isConsecutiveSelected">
    <mat-form-field appearance="outline">
      <mat-label>Monitor duration in ms</mat-label>
      <input
        matNativeControl
        id="monitorDuration"
        [(ngModel)]="monitorDuration"
      />
      <span matSuffix>ms</span>
    </mat-form-field>
    <br />
    <mat-form-field appearance="outline">
      <mat-label>Threshold</mat-label>
      <input
        matNativeControl
        id="threshold"
        [(ngModel)]="threshold"
        matTooltip="Breaks if more requests than the threshold percentage fail in a certain duration"
      />
    </mat-form-field>
    <br />
    <mat-form-field appearance="outline">
      <mat-label>Minimum requests per second</mat-label>
      <input
        matNativeControl
        id="minimumRequests"
        [(ngModel)]="minimumRequests"
        matTooltip="Defines a minimum number of requests that need to occur before the breaker can open"
      />
    </mat-form-field>
  </div>
  <div class="consecutive" *ngIf="isConsecutiveSelected">
    <mat-form-field appearance="outline">
      <mat-label>Number of failures in a row</mat-label>
      <input
        matNativeControl
        id="consecutiveFailures"
        [(ngModel)]="consecutiveFailures"
      />
    </mat-form-field>
  </div>
  <div>
    <button type="button" (click)="createBreakerConfig()" mat-raised-button color="accent">
      Change configuration
    </button>
  </div>
</section>
